(this["webpackJsonpWildSpotter-client"]=this["webpackJsonpWildSpotter-client"]||[]).push([[0],{50:function(t,e,a){},77:function(t,e,a){},78:function(t,e,a){"use strict";a.r(e);var n=a(1),i=a.n(n),s=a(24),c=a.n(s),o=(a(50),a(10)),r=a(43),l=a(2),u=a(3),d=a(5),p=a(4),h=a(8),j=(a(30),a(6)),b=a(0),m=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props,e=t.signIn;t.error;return Object(b.jsxs)("div",{className:"signIn",children:[Object(b.jsx)("h2",{children:"Wild Spotting"}),Object(b.jsx)("img",{className:"wolf",src:"wolf.png",alt:"wolf"}),Object(b.jsx)("h6",{children:"Do you know where you can find the European fabulous 5?"}),Object(b.jsx)("p",{children:"Log in to find them!"}),Object(b.jsxs)("form",{onSubmit:e,children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),Object(b.jsx)("input",{type:"email",name:"email",className:"form-control",id:"exampleInputEmail1"})]}),Object(b.jsxs)("div",{class:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(b.jsx)("input",{type:"password",name:"password",className:"form-control",id:"exampleInputPassword1"})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"}),Object(b.jsx)(j.b,{to:"/signup",children:Object(b.jsx)("div",{className:"btn btn-primary",children:"Sign Up"})})]})]})}}]),a}(n.Component),f=(a(56),function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props,e=t.signUp,a=t.error;return Object(b.jsxs)("div",{className:"signUp",children:[Object(b.jsx)("h2",{children:"Wild Spotting"}),Object(b.jsx)(j.b,{to:"/",children:Object(b.jsx)("img",{src:"x-circle.svg"})}),Object(b.jsx)("img",{className:"wolf",src:"wolf.png"}),Object(b.jsx)("h6",{children:"Sign up to find the fabulous 5"}),Object(b.jsxs)("form",{onSubmit:e,children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Username"}),Object(b.jsx)("input",{type:"text",name:"username",className:"form-control"})]}),Object(b.jsxs)("div",{class:"mb-3",children:[Object(b.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(b.jsx)("input",{type:"text",name:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"})]}),Object(b.jsxs)("div",{class:"mb-3",children:[Object(b.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(b.jsx)("input",{type:"password",name:"password",className:"form-control",id:"exampleInputPassword1"})]}),a?Object(b.jsx)("div",{children:a.errorMessage}):null,Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"})]})]})}}]),a}(n.Component)),O=a(7),x=a.n(O),g="https://wildspotter.herokuapp.com",v=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"navbar",children:[Object(b.jsx)("img",{className:"wolfnav",src:"wolf.png",alt:"wolf"}),Object(b.jsx)("div",{className:"btn-group",children:Object(b.jsxs)("select",{className:"btn btn-danger dropdown-toggle form-select",onChange:this.props.search,name:"animal","aria-label":"Default select example",children:[Object(b.jsx)("option",{selected:!0,children:"Animal"}),Object(b.jsx)("option",{value:"wolf",children:"Wolf"}),Object(b.jsx)("option",{value:"bear",children:"Bear"}),Object(b.jsx)("option",{value:"bison",children:"Bison"}),Object(b.jsx)("option",{value:"moose",children:"Moose"}),Object(b.jsx)("option",{value:"lynx",children:"Lynx"})]})}),Object(b.jsx)("button",{onClick:this.props.logout,className:"btn btn-primary",children:"Log out"})]})}}]),a}(n.Component),y=a(17),N=a(79),w=a(80),S=a(83),D=a(81),I=a(82),A=(a(76),a(15)),C=a.n(A);var k=function(t){var e=Object(n.useState)([56.26,9.5]),a=Object(y.a)(e,2),i=a[0],s=a[1];function c(){Object(N.a)("click",(function(e){var a=e.latlng;s([a.lat,a.lng]),t.handleLocation([a.lat,a.lng])}));return null}var o=new C.a.Icon({iconUrl:t.animalMarker,iconSize:[44,38]});return console.log(i),Object(b.jsx)("div",{children:Object(b.jsxs)(w.a,{style:{width:"750px",height:"500px"},center:i,zoom:3,scrollWheelZoom:!1,children:[Object(b.jsx)(S.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(b.jsx)(c,{position:i}),Object(b.jsx)(D.a,{icon:o,position:i,children:Object(b.jsxs)(I.a,{children:["A pretty CSS3 popup. ",Object(b.jsx)("br",{})," Easily customizable."]})})]})})},T=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={animal:null,location:[],tourId:null},t.handleChange=function(e){t.setState({animal:e.target.value}),console.log(e.target.value)},t.handleTourChange=function(e){t.setState({tourId:e.target.value}),console.log(e.target.value)},t.handleLocation=function(e){t.setState({location:e})},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e="bear.png";return"bear"===this.state.animal?e="bear.png":"wolf"==this.state.animal?e="Wolf2.png":"moose"==this.state.animal?e="Moose.png":"lynx"==this.state.animal?e="lynx1.png":"bison"==this.state.animal&&(e="https://image.flaticon.com/icons/png/512/2247/2247411.png"),console.log(this.props.allTours),Object(b.jsxs)("div",{className:"addAnimal",children:[Object(b.jsx)(j.b,{to:"/profile",children:Object(b.jsx)("img",{src:"x-circle.svg"})}),Object(b.jsx)(k,{animalMarker:e,handleLocation:this.handleLocation}),Object(b.jsxs)("form",{onSubmit:function(e){t.props.addAnimal(e,t.state.animal,t.state.location,t.state.tourId)},children:[Object(b.jsx)("div",{children:Object(b.jsxs)("select",{onChange:this.handleChange,name:"animal",class:"form-select","aria-label":"Default select example",children:[Object(b.jsx)("option",{selected:!0,children:"Animal"}),Object(b.jsx)("option",{value:"wolf",children:"Wolf"}),Object(b.jsx)("option",{value:"bear",children:"Bear"}),Object(b.jsx)("option",{value:"bison",children:"Bison"}),Object(b.jsx)("option",{value:"moose",children:"Moose"}),Object(b.jsx)("option",{value:"lynx",children:"Lynx"})]})}),Object(b.jsxs)("select",{className:"btn btn-danger dropdown-toggle form-select",onChange:this.handleTourChange,name:"tours","aria-label":"Default select example",children:[Object(b.jsx)("option",{selected:!0,children:"Tour"}),this.props.allTours.map((function(t){return Object(b.jsx)("option",{value:t._id,children:t.name})}))]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Location"}),Object(b.jsxs)("p",{children:["lattitude = ",this.state.location[0]]}),Object(b.jsxs)("p",{children:["longitude = ",this.state.location[1]]})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Description"}),Object(b.jsx)("input",{name:"description",type:"text",className:"form-control",id:"exampleInputPassword1"})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Image"}),Object(b.jsx)("input",{name:"image",type:"text",className:"form-control",id:"exampleInputPassword1"})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})}}]),a}(n.Component),U=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=JSON.parse(JSON.stringify(this.props.allAnimals));t.sort((function(t,e){return new Date(e.createdAt)-new Date(t.createdAt)}));var e=t.slice(0,3),a=JSON.parse(JSON.stringify(this.props.allTours));console.log(this.props.allTours),a.sort((function(t,e){return new Date(e.createdAt)-new Date(t.createdAt)}));var n=a.slice(0,3);return Object(b.jsxs)("div",{children:[Object(b.jsx)("h6",{children:"Last spotted animals"}),e.map((function(t){return Object(b.jsx)(j.b,{to:"/animalDetail/".concat(t._id),children:Object(b.jsx)("p",{children:t.animal})})})),Object(b.jsx)("h6",{children:"Last added tours"}),n.map((function(t){return Object(b.jsx)(j.b,{to:"/tourDetail/".concat(t._id),children:Object(b.jsx)("p",{children:t.name})})}))]})}}]),a}(n.Component),E=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this;this.props.allAnimals;console.log(this.props.searchAnimal);var e=this.props.allAnimals;this.props.searchAnimal&&(e=this.props.allAnimals.filter((function(e){return e.animal==t.props.searchAnimal}))),"Animal"==this.props.searchAnimal&&(e=this.props.allAnimals);return Object(b.jsx)("div",{children:Object(b.jsxs)(w.a,{style:{width:"750px",height:"500px"},center:[56.26,9.5],zoom:4,scrollWheelZoom:!1,children:[Object(b.jsx)(S.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map((function(t,e){var a="https://image.flaticon.com/icons/png/512/2247/2247411.png";"bear"===t.animal?a="bear.png":"wolf"===t.animal?a="Wolf2.png":"moose"===t.animal?a="Moose.png":"lynx"===t.animal?a="lynx1.png":"bison"===t.animal&&(a="https://image.flaticon.com/icons/png/512/2247/2247411.png");var n=new C.a.Icon({iconUrl:a,iconSize:[44,34]});return Object(b.jsx)(D.a,{icon:n,position:["".concat(t.location[0]),"".concat(t.location[1])],children:Object(b.jsxs)(I.a,{children:[t.description," ",Object(b.jsx)("br",{}),"."]})})}))]})})}}]),a}(n.Component),P=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={allAnimals:[],allTours:[]},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this;x.a.get("".concat(g,"/api/animals"),{withCredentials:!0}).then((function(e){console.log(e.data),t.setState({allAnimals:e.data})})).catch((function(){})),x.a.get("".concat(g,"/api/tours"),{withCredentials:!0}).then((function(e){console.log("response.data"),t.setState({allTours:e.data})})).catch((function(){}))}},{key:"render",value:function(){return this.props.loggedInUser?Object(b.jsxs)("div",{className:"profile",children:[Object(b.jsxs)("h2",{children:["Welcome: ",this.props.loggedInUser.username]}),Object(b.jsx)(U,{allAnimals:this.state.allAnimals,allTours:this.state.allTours}),Object(b.jsx)(E,{allAnimals:this.state.allAnimals,searchAnimal:this.props.searchAnimal}),Object(b.jsx)(j.b,{to:"/tour",children:Object(b.jsx)("div",{className:"btn btn-primary",children:"Add Tour"})}),Object(b.jsx)(j.b,{to:"/add",children:Object(b.jsx)("div",{className:"btn btn-primary",children:"Add Animal"})})]}):(console.log("Redirecting from profile"),Object(b.jsx)(h.a,{to:"/"}))}}]),a}(n.Component),L=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"tour",children:[Object(b.jsx)(j.b,{to:"/profile",children:Object(b.jsx)("img",{src:"x-circle.svg"})}),Object(b.jsxs)("form",{onSubmit:this.props.addTour,children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:" Name "}),Object(b.jsx)("input",{name:"name",type:"text",className:"form-control",id:"exampleInputPassword1"})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:" Description "}),Object(b.jsx)("input",{name:"description",type:"text",className:"form-control",id:"exampleInputPassword1"})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:" Location "}),Object(b.jsx)("input",{name:"location",type:"text",className:"form-control",id:"exampleInputPassword1"})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:" Submit "})]})]})}}]),a}(n.Component),M=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={animal:{}},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.animalId;x.a.get("".concat(g,"/api/animalDetail/").concat(e)).then((function(e){console.log(e.data),t.setState({animal:e.data})})).catch((function(t){console.log("Detail fecth failed --\x3e",t)}))}},{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"Details"}),Object(b.jsxs)("p",{children:["Type of animal: ",this.state.animal.animal]}),Object(b.jsxs)("p",{children:["Description: ",this.state.animal.description]}),Object(b.jsx)(j.b,{to:"/animalDetail/".concat(this.state.animal._id,"/edit"),children:Object(b.jsx)("button",{className:"btn btn-primary",children:"Edit"})}),Object(b.jsx)(j.b,{to:"/profile",children:Object(b.jsx)("button",{onClick:function(){t.props.delete(t.state.animal._id)},className:"btn btn-primary",children:"Delete"})})]})}}]),a}(n.Component),_=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={animal:{}},t.handleNameChange=function(e){var a=e.target.value;console.log(a);var n=JSON.parse(JSON.stringify(t.state.animal));n.name=a,t.setState({animal:n})},t.handleDescChange=function(e){var a=e.target.value,n=JSON.parse(JSON.stringify(t.state.animal));n.description=a,t.setState({animal:n})},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.animalId;x.a.get("".concat(g,"/api/animalDetail/").concat(e)).then((function(e){t.setState({animal:e.data})})).catch((function(){console.log("Detail fecth failed")}))}},{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"text",onChange:this.handleNameChange,value:this.state.animal.animal}),Object(b.jsx)("input",{type:"text",onChange:this.handleDescChange,value:this.state.animal.description}),Object(b.jsxs)(j.b,{to:"/profile",children:["  ",Object(b.jsx)("button",{onClick:function(){t.props.onEdit(t.state.animal)},children:"Submit"})]})]})}}]),a}(n.Component),J=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={tour:{},animals:[]},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.tourId;x.a.get("".concat(g,"/api/tourDetail/").concat(e)).then((function(e){console.log(e.data),t.setState({tour:e.data.detail,animals:e.data.animals})})).catch((function(t){console.log("Detail fecth failed --\x3e",t)}))}},{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)(E,{allAnimals:this.state.animals}),Object(b.jsx)("h4",{children:"Details"}),Object(b.jsxs)("p",{children:["Tour: ",this.state.tour.name]}),Object(b.jsxs)("p",{children:["Description: ",this.state.tour.description]}),Object(b.jsx)(j.b,{to:"/tourDetail/".concat(this.state.tour._id,"/edit"),children:Object(b.jsx)("button",{className:"btn btn-primary",children:"Edit"})}),Object(b.jsx)(j.b,{to:"/profile",children:Object(b.jsx)("button",{onClick:function(){t.props.delete(t.state.tour._id)},className:"btn btn-primary",children:"Delete"})})]})}}]),a}(n.Component),W=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={tour:{}},t.handleNameChange=function(e){var a=e.target.value;console.log(a);var n=JSON.parse(JSON.stringify(t.state.tour));n.name=a,t.setState({tour:n})},t.handleDescChange=function(e){var a=e.target.value,n=JSON.parse(JSON.stringify(t.state.tour));n.description=a,t.setState({tour:n})},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.tourId;x.a.get("".concat(g,"/api/tourDetail/").concat(e)).then((function(e){t.setState({tour:e.data})})).catch((function(){console.log("Detail fecth failed")}))}},{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"text",onChange:this.handleNameChange,value:this.state.tour.name}),Object(b.jsx)("input",{type:"text",onChange:this.handleDescChange,value:this.state.tour.description}),Object(b.jsxs)(j.b,{to:"/profile",children:["  ",Object(b.jsx)("button",{onClick:function(){t.props.onEdit(t.state.tour)},children:"Submit"})]})]})}}]),a}(n.Component),z=function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{children:"404 Page not found! Try again Voldemort...."})}}]),a}(n.Component),B=(a(77),function(t){Object(d.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={loggedInUser:null,error:null,animal:null,fetchingUser:!0,searchAnimal:null,allTours:[]},t.handleSignIn=function(e){e.preventDefault();var a={email:e.target.email.value,password:e.target.password.value};console.log("Coming here"),x.a.post("".concat(g,"/api/signIn"),a,{withCredentials:!0}).then((function(e){console.log("signin data",e.data),t.setState({loggedInUser:e.data},(function(){t.props.history.push("/profile")}))})).catch((function(t){console.log(t)}))},t.handleSignUp=function(e){e.preventDefault();var a={username:e.target.username.value,email:e.target.email.value,password:e.target.password.value};x.a.post("".concat(g,"/api/signup"),a).then((function(e){console.log(e.data),t.setState({loggedInUser:null},(function(){t.props.history.push("/")}))})).catch((function(e){console.log(e),t.setState({error:e.response.data})}))},t.handleLogout=function(){x.a.post("".concat(g,"/api/logout"),{},{withCredentials:!0}).then((function(){t.setState({loggedInUser:null},(function(){t.props.history.push("/")}))}))},t.handleAddAnimal=function(e,a,n,i){e.preventDefault();var s={animal:a,location:n,description:e.target.description.value,image:e.target.image.value,tourId:i};x.a.post("".concat(g,"/api/add"),s,{withCredentials:!0}).then((function(e){t.setState({animal:e.data},(function(){t.props.history.push("/profile")}))}))},t.handleAddTour=function(e){e.preventDefault();var a={name:e.target.name.value,location:e.target.location.value,description:e.target.description.value};x.a.post("".concat(g,"/api/tours"),a,{withCredentials:!0}).then((function(e){t.setState({tour:e.data,allTours:[e.data].concat(Object(r.a)(t.state.allTours))},(function(){t.props.history.push("/profile")}))}))},t.handleDelete=function(e){x.a.delete("".concat(g,"/api/animalDetail/").concat(e)).then((function(){var a=t.state.animal.filter((function(t){return t._id!==e}));t.setState({animal:a},(function(){t.props.history.push("/")}))})).catch((function(t){console.log("Delete failed",t)}))},t.handleEditAnimal=function(e){x.a.patch("".concat(g,"/api/animalDetail/").concat(e._id),{animal:e.animal,description:e.description,image:e.image}).then((function(){var a=t.state.animal.map((function(t){return e._id===t._id&&(t.animal=e.animal,t.description=e.description),t}));t.setState({animal:a},(function(){t.props.history.push("/")}))})).catch((function(t){console.log("Edit failed",t)}))},t.handleSearch=function(e){t.setState({searchAnimal:e.target.value}),console.log(e.target.value)},t.handleEditTour=function(e){x.a.patch("".concat(g,"/api/tourDetail/").concat(e._id),{name:e.name,description:e.description}).then((function(){var a=t.state.tour.map((function(t){return e._id===t._id&&(t.name=e.name,t.description=e.description),t}));t.setState({tour:a},(function(){t.props.history.push("/profile")}))})).catch((function(t){console.log("Edit failed",t)}))},t.handleDeleteTour=function(e){x.a.delete("".concat(g,"/api/tourDetail/").concat(e)).then((function(){var a=t.state.animal.filter((function(t){return t._id!==e}));t.setState({tour:a},(function(){t.props.history.push("/")}))})).catch((function(t){console.log("Delete failed",t)}))},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.state.loggedInUser||x.a.get("".concat(g,"/api/user"),{withCredentials:!0}).then((function(e){t.setState({loggedInUser:e.data,fetchingUser:!1})})).catch((function(e){console.log(e),t.setState({fetchingUser:!1})})),x.a.get("".concat(g,"/api/tours"),{withCredentials:!0}).then((function(e){console.log("response.data"),t.setState({allTours:e.data})})).catch((function(){}))}},{key:"render",value:function(){var t=this;return console.log("This is the user connected --\x3e",this.state.loggedInUser),this.state.fetchingUser?Object(b.jsx)("p",{children:"Loading"}):Object(b.jsxs)("div",{children:[this.state.loggedInUser?Object(b.jsx)(v,Object(o.a)({logout:this.handleLogout,search:this.handleSearch},this.props)):null,Object(b.jsxs)(h.d,{children:[Object(b.jsx)(h.b,{exact:!0,path:"/",render:function(e){return Object(b.jsx)(m,Object(o.a)({signIn:t.handleSignIn,error:t.state.error},e))}}),Object(b.jsx)(h.b,{path:"/signup",render:function(e){return Object(b.jsx)(f,Object(o.a)({signUp:t.handleSignUp,error:t.state.error},e))}}),Object(b.jsx)(h.b,{path:"/profile",render:function(e){return Object(b.jsx)(P,Object(o.a)({searchAnimal:t.state.searchAnimal,news:t.state.animal,logout:t.handleLogout,loggedInUser:t.state.loggedInUser},e))}}),Object(b.jsx)(h.b,{path:"/add",render:function(e){return Object(b.jsx)(T,Object(o.a)({allTours:t.state.allTours,addAnimal:t.handleAddAnimal},e))}}),Object(b.jsx)(h.b,{path:"/tour",render:function(e){return Object(b.jsx)(L,Object(o.a)({addTour:t.handleAddTour},e))}}),Object(b.jsx)(h.b,{path:"/animalDetail/:animalId/edit",render:function(e){return Object(b.jsx)(_,Object(o.a)({onEdit:t.handleEditAnimal},e))}}),Object(b.jsx)(h.b,{path:"/animalDetail/:animalId",render:function(e){return Object(b.jsx)(M,Object(o.a)({delete:t.handleDelete},e))}}),Object(b.jsx)(h.b,{path:"/tourDetail/:tourId/edit",render:function(e){return Object(b.jsx)(W,Object(o.a)({onEdit:t.handleEditTour},e))}}),Object(b.jsx)(h.b,{path:"/tourDetail/:tourId",render:function(e){return Object(b.jsx)(J,Object(o.a)({delete:t.handleDeleteTour},e))}}),Object(b.jsx)(h.b,{component:z})]})]})}}]),a}(i.a.Component)),F=Object(h.g)(B);c.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(j.a,{children:Object(b.jsx)(F,{})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.f53faaf7.chunk.js.map